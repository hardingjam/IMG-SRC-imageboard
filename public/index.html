<!doctype html>
<html>
<head>
    <link rel="preconnect" href="https://fonts.gstatic.com">
<link href="https://fonts.googleapis.com/css2?family=Train+One&display=swap" rel="stylesheet"> 
    <link rel="stylesheet" href="/css/styles.css">
    <title>IMG | SRC</title>
</head>
<body>
    <div id="banner">
        <img id="bannerimage" src="./images/banner.jpg">
       
            <h1 id="headline">IMG SRC</h1>
        </div>
    </div>
    <div id="main">
       
         
        <div id="upload">
            <form id="upload">
                <div id="textinputs">
                    <input v-model='title' type ="text" name='title' placeholder="Title" required>
            <!-- the value of v-model is linked to the properties in our data object -->
                    <input v-model='description' type ="text" name='description' placeholder="Description" required>
                    <input v-model='username' type ="text" name ='username' placeholder="Your Name" required>
                </div>
                <div id="fileinput">
                
                <div id="browsebutton">
                <label id="choosefile" for='inputfile'>
                    <img id="fileicon" src="./images/photo.png">
                    <p id="filename"></p>
                </label>
                <input @change='handleChange' id='inputfile' class="inputfile" type ="file" name ='file' accept='image/*'>
                </div>
            <!-- When there is a change in the file input field, run the function handleChange from out data -->
                </div>
            <button @click.prevent='handleClick'><img class="sendicon" src="./images/send.png"></button>
            
            <!-- click.prevent is the equivalent of e.preventDefault() -->
            </form>
        </div>
        <!-- This contains our Vue instance -->
        <div id="imagegrid">    
            
            <div class="card" v-for='image in images' :key='image.id' >
            <img class="image" :src=image.url @click='imageId = image.id'>
                
        </div>
        </div>
        <transition name="fade">
        <image-component v-if="imageId" :id="imageId" @close="closePopUp"></image-component>
      
        <!-- defined in the parent -->
        </transition>   
        
        <!-- end of main -->
    </div>

    <script id="image-info" type="text/x-template">
    <div class='component' >   
        <div id="info-box">
            <p id = "user-and-time">Added by {{username}} on {{date}} at {{time}}</p>
                <img class="image-open" :src="imageUrl">
                <div id = "details-comments">    
                    <div id="image-details"> 
                        <h1 id = "title">{{title}}</h1>
                        <p id = "description">"{{description}}"</p>
                    </div>
                    <span id="close-button" @click="closeModal">
                        <img class="close" src="./images/close.png">
                    </span>
            <!-- // COMMENTS COMPONENT \\ -->
                    <comments-component :id="id"></comments-component> 
            <!--  child components access the properties of their parent component (not Main) -->
                    <div id="messageboard">
                <!-- user messages go here -->
                    </div> 
                </div>
            </div>
        </div>   
    </script>
            
    <script id="comments-box" type="text/x-template">
        <div class="component">
            <div id="comment-form">
                <form method="POST">
                    <input type="text" placeholder="Your Name">
                    <input type="text" palceholder="Tell us what you think...">
                    <button type="submit">Add comment</button>
                </form>
            </div>  
        </div>       
    </script>
    <!-- the script for the comment box goes here -->
    <!-- submit button w/ click listener to post comments -->
    <!-- text fields etc. -->
              
            
        

    
    <script src="/js/vue.js"></script>
    <script src="/js/axios.min.js"></script>
    <script src="/js/script.js"></script>
</body>
</html>
